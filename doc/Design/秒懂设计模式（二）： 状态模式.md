# 状态模式

### 使用场景

相同的操作在不同的状态下需要有不同的执行逻辑，比如遥控器在开机和关机状态下，相同的按钮所执行的任务是不一致的，再比如账号登录和未登录的状态下，有些操作是需要进行一些区别的。针对这种情况，我们通常普通的写法就是写一个状态标志位，在执行某个操作时判断当前的状态，执行相应的操作。这样，让判断逻辑和执行逻辑都在一个类里面，代码不够清晰。

### 核心思想

将相同的操作抽离成一个接口，不同状态下的操作是这个接口的一个具体的实现类。新建一个控制类，对外提供变换状态的接口，外部改变状态时，我们只需要改变当前接口所对应的实现类的实例。这样，控制类总是根据当前状态所对应的实例，执行对应的操作。这样做的好处是，不同状态是单独的一个实现类，只需要关注自身状态的执行操作。同时，控制类对外统一接口，外部只关注对外的操作需求。

